{% extends "base.html" %}
{% block content %}

<h2>Rosters</h2>

{% if current_user.is_admin %}
<h3>Add Roster Entry</h3>
<form method="post" action="{{ url_for('new_roster') }}">
  <label>Date: <input type="date" name="date" required></label><br>
  <label>Shift Name: <input name="shift_name" required></label><br>

  <label>Employee:
    <select name="employee_id">
      {% for emp in employees %}
        <option value="{{ emp.id }}">{{ emp.name }}</option>
      {% endfor %}
    </select>
  </label><br>

  <label>Job Description: <input name="job_description"></label><br>

  <button type="submit">Add Roster</button>
</form>
{% endif %}

<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>Shift</th>
      <th>Employee</th>
      <th>Job</th>
    </tr>
  </thead>
  <tbody>
    {% for r in rosters %}
    <tr>
      <td>{{ r.date }}</td>
      <td>{{ r.shift_name }}</td>
      <td>{{ r.employee.name }}</td>
      <td>{{ r.job_description }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}